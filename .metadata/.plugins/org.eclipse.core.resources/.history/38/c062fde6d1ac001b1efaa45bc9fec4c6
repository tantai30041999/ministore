package dao;

import java.sql.*;

import bean.User;
import db.ConnectionDB;
import util.GenerateID;
import util.MD5;

public class SignUpDAO {
	  public static boolean isMailExist(String email) {
	        String sql = "SELECT * from userstore  where email=?";
	        Connection con = null;
	        PreparedStatement pre = null;
	        try {
	            con = ConnectionDB.connect( );
	            pre = con.prepareStatement(sql);
	            pre.setString(1,email);
	            ResultSet rs = pre.executeQuery();
	           rs.last();
	           if(rs.getRow()>0){
	               ConnectionDB.pool.releaseConnection(con);
	               return true;
	           }

	        } catch (SQLException | ClassNotFoundException e) {
	            e.printStackTrace();
	        }
	        ConnectionDB.pool.releaseConnection(con);
	        return false;
	    }
	    public static boolean insertUser(User user) {
	        String sql = "INSERT into userstore VALUE(?,?,?,?,?,?,?,?,?,?)";
	        boolean result = false;
	        PreparedStatement pre = null;
	        Connection con = null;
	      
	            try {
					con = ConnectionDB.connect();
				} catch (ClassNotFoundException e) {
					
					e.printStackTrace();
				} catch (SQLException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
	          
	        
	        ConnectionDB.pool.releaseConnection(con);
	        return result;
}
}
